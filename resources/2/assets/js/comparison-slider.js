function maxVal(e,t){return e<=t&&e>=0?e:e<0?0:t}jQuery(".img-comp-overlay").each(function(){var e=jQuery(this).parents(".img-comp-container").find(".img-comp-slider"),t=jQuery(this).find("img"),o="rtl"===jQuery("body").css("direction"),a=jQuery(".img-comp-img").width(),i=function(){var i,f=window.event;if(o)i=maxVal(t.offset().left+a-f.pageX,a),t.parent().width(i),e.css({right:i+"px",left:"auto"});else{var n=t.offset().left;i=maxVal(f.pageX-n,a),t.parent().width(i),e.css({left:i+"px",right:"auto"})}};e.mousedown(function(e){e.preventDefault(),jQuery(window).on("mousemove.slideev",i)}),jQuery(window).mouseup(function(e){e.preventDefault(),jQuery(window).off("mousemove.slideev")}),e.on("touchmove",function(i){i.preventDefault();var f,n=i.touches[0];if(o)f=maxVal(t.offset().left+a-n.pageX,a),t.parent().width(f),e.css({right:f+"px",left:"auto"});else{var s=t.offset().left;f=maxVal(n.pageX-s,a),t.parent().width(f),e.css({left:f+"px",right:"auto"})}})});